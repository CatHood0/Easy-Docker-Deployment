#!/bin/bash

echo "ğŸŒ Instalando Easy-Auto-Deploy CLI-tool"
echo "==================================="

# Detectar entorno
if [[ "$OSTYPE" == "linux-gnu"* ]]; then
    echo "ğŸ§ Entorno Linux detectado"
    ./install.sh
elif [[ "$OSTYPE" == "darwin"* ]]; then
    echo "ğŸ Entorno macOS detectado" 
    ./install.sh
elif [[ "$OSTYPE" == "cygwin" ]] || [[ "$OSTYPE" == "msys" ]] || [[ -n "$WSL_DISTRO_NAME" ]]; then
    echo "ğŸªŸ Entorno Windows (WSL/Git Bash) detectado"
    
    # En WSL, usar el script Linux
    if [[ -n "$WSL_DISTRO_NAME" ]]; then
        ./install.sh
    else
        # En Git Bash/Cygwin, ejecutar el .bat
        cmd //c install.bat
    fi
else
    echo "âŒ Sistema no soportado: $OSTYPE"
    echo "ğŸ’¡ Ejecuta manualmente:"
    echo "   Linux/macOS: ./install.sh"
    echo "   Windows: install.bat"
    exit 1
fi
